# アトム

## 利用上の注意

* アトムは、ガベージコレクションの対象とならない。ひとたびアトムが作られると、仮想マシンを再起動するまで残る。
* 仮想マシンごとに作成できるアトムの個数には上限がある（デフォルト: 1,048,576個）。
* そのため、アプリケーションの外部から与えられた文字列をアトムに変換するのは危険である。
## アトムの記述法

`:foo` のように先頭にコロンを付けるだけでアトムになる場合と、`:"foo-bar"` のようにダブルクオートで囲んだ上で先頭にコロンを付けなければならない場合がある。

以下のルールに合致する場合は、ダブルクオートで囲む必要はない。

* 1文字目が「Unicode letter」またはアンダースコア（`_`）である。
* 2文字目がある場合、それは「Unicode letter」、アンダースコア（`_`）、アラビア数字、または記号 `@` である。

> 「Unicode letter」とは、英小文字、英大文字、漢字、ひらがな、等。アラビア数字が含まれない点に注意。
> 2文字目以降に `@` が許されるのは、ノード（仮想マシン）の識別にこの記号が使われるため。

ルールの例外:

* 最後の文字（1文字目を除く）が `!` または `?` であれば、ダブルクオートで囲まなくてもよい。例: `:active?`
* 組み込み演算子は、ダブルクオートで囲まなくてもよい。例: `:+`, `:==`

> 最後の文字に `!` と `?` が許されるのは、関数名の末尾にこれらの記号が使われることがあるため。

ダブルクオートで囲まなければならない場合の例:

* `:"foo-bar"`
* `:"0"`
* `:"#"`

注意事項:

* ダブルクオートで囲む必要がないのに囲むと警告が出る。
* ダブルクオートの代わりにシングルクオートで囲んでもよい。

## 【参考】 英大文字で始まるアトム

`Alpha`、 `Z80`、 `H_I` 等のように、英大文字で始まり英数字およびアンダースコアが続く場合、コロンを付けなくてもそのままアトムとなる。

これらのアトムは、内部的には `Elixir.` というプレフィックスの付いたアトムとして扱われる。

すなわち、`Alpha` と `:"Elixir.Alpha"` は同値である。しかし、`Alpha` と `:Alpha` は異なる値である。

# 基本の型

## 5つの型

Tutorial No.1 では、5つの型が登場する。

* Null値: `nil`
* 真偽値: `true`, `false`
* 整数: `100`, `-5`, `1_000_000`
* 文字列: `"ABC"`, `"あいうえお"`
* アトム: `:foo`, `:x123`, `:foo@bar`, `:"foo-bar"`

## 整数

* 可読性を高めるため `1_000_000` のように、数字の列の間にアンダースコア（`_`）を挿入してもよい。

## 文字列

* ソースコード中に文字列を記述するには、`"ABC"` のようにダブルクオートで文字列を囲む。
* `'ABC'` のようにシングルクオートで囲むと、「文字リスト」と呼ばれる別の存在となる（本稿では扱わない）。

## アトム

### 概要

* アトムとは、アプリケーション内部で使用される記号。
* 通常、`:foo` のように「コロン＋英数字の列」で記述するが、正確なルールはかなり複雑である（後述）。
* 個々のアトムの意味は必ずしも固定されていない。アプリケーションの開発者が自由に意味を付与できる。
* ただし、`:nil`, `:true`, `:false` は `nil`, `true`, `false` と同値。
* プログラミング言語Rubyの「シンボル」に類似した存在。

### 利用上の注意

* アトムは、ガベージコレクションの対象とならない。ひとたびアトムが作られると、仮想マシンを再起動するまで残る。
* 仮想マシンごとに作成できるアトムの個数には上限がある（デフォルト: 1,048,576個）。
* そのため、アプリケーションの外部から与えられた文字列をアトムに変換するのは危険である。

### アトムの記述法

`:foo` のように先頭にコロンを付けるだけでアトムになる場合と、`:"foo-bar"` のようにダブルクオートで囲んだ上で先頭にコロンを付けなければならない場合がある。

以下のルールに合致する場合は、ダブルクオートで囲む必要はない。

* 1文字目が「Unicode letter」またはアンダースコア（`_`）である。
* 2文字目がある場合、それは「Unicode letter」、アンダースコア（`_`）、アラビア数字、または記号 `@` である。

> 「Unicode letter」とは、英小文字、英大文字、漢字、ひらがな、等。アラビア数字が含まれない点に注意。
> 2文字目以降に `@` が許されるのは、ノード（仮想マシン）の識別にこの記号が使われるため。

ルールの例外:

* 最後の文字（1文字目を除く）が `!` または `?` であれば、ダブルクオートで囲まなくてもよい。例: `:active?`
* 組み込み演算子は、ダブルクオートで囲まなくてもよい。例: `:+`, `:==`

> 最後の文字に `!` と `?` が許されるのは、関数名の末尾にこれらの記号が使われることがあるため。

ダブルクオートで囲まなければならない場合の例:

* `:"foo-bar"`
* `:"0"`
* `:"#"`

注意事項:

* ダブルクオートで囲む必要がないのに囲むと警告が出る。
* ダブルクオートの代わりにシングルクオートで囲んでもよい。

### 【参考】 英大文字で始まるアトム

`Alpha`、 `Z80`、 `H_I` 等のように、英大文字で始まり英数字およびアンダースコアが続く場合、コロンを付けなくてもそのままアトムとなる。

これらのアトムは、内部的には `Elixir.` というプレフィックスの付いたアトムとして扱われる。

すなわち、`Alpha` と `:"Elixir.Alpha"` は同値である。しかし、`Alpha` と `:Alpha` は異なる値である。
